# komo-web

Komoriuta のフロントエンド Web アプリケーション。

詳細なアーキテクチャやシステム設計については、[プロジェクトドキュメント](/docs)を参照してください。

ディレクトリ構成については、[ARCHITECTURE.md](./ARCHITECTURE.md)を参照してください。

## 開発

### 前提条件

- Bun
- Nix (開発環境)

### セットアップ

```bash
# プロジェクトのルートで依存関係をインストール
bun install

# パッケージディレクトリに移動
cd bun/packages/web
bun install

# 環境変数ファイルを作成（オプション）
cp .env.example .env
# .envファイルを編集して必要な設定を行う
```

### 開発サーバー起動

```bash
bun run dev
```

開発モードでは、ホットリロード（HMR）が有効化されます。

### ビルド

```bash
bun run build
```

このコマンドは以下を実行します：

1. TypeScript をコンパイル
2. 単一実行ファイル `bin/komo-web` を生成（フロントエンドアセット含む）

### 実行

```bash
bun run start
# または
./bin/komo-web
```

## 環境変数

### サーバー環境変数

開発環境では、`.env.example`をコピーして`.env`ファイルを作成できます：

```bash
cp .env.example .env
```

`.env`ファイルを編集して、必要な環境変数を設定してください。

#### サーバー環境変数一覧

| 変数名              | 説明                                 | デフォルト値 |
| ------------------- | ------------------------------------ | ------------ |
| `PORT`              | Web サーバーのポート                 | 3000         |
| `HOST`              | Web サーバーのホスト                 | 0.0.0.0      |
| `FRONTEND_DEV_MODE` | 開発モード（HMR 有効化、true/false） | false        |

### フロントエンド環境変数

フロントエンドで使用する環境変数は `src/frontend/utils/env.ts` で管理されています。

#### フロントエンド環境変数一覧

| 変数名    | 説明               | デフォルト値          |
| --------- | ------------------ | --------------------- |
| `API_URL` | Backend API の URL | http://localhost:3001 |

詳細な機能説明やセキュリティ設計については、[プロジェクトドキュメント](/docs)を参照してください。

パッケージ固有のアーキテクチャ設計については、[ARCHITECTURE.md](./ARCHITECTURE.md)を参照してください。

## 今後の課題

- shadcn/ui コンポーネントの導入
- サーバー一覧・詳細画面の実装
- 認証状態管理の実装
- テスト追加（ユニット・E2E）

## 関連ドキュメント

- [PRD](/docs/prd.md): プロダクト要求定義
- [SRS](/docs/srs.md): ソフトウェア要件定義
- [SDD](/docs/sdd.md): システム設計ドキュメント
